<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Registration Form for Academic Calendar & Reminder System</title>
<link rel="stylesheet" href="registration.css">
</head>
<body>
<form id="registration-form">
<h2>Registration Form</h2>
<label for="new-username">User Name</label>
<input type="text" class="box" placeholder="Enter User name" id="new-username" name="new-username" required>
<label for="new-email">Email</label>
<input type="email" class="box" placeholder="Enter Email" id="new-email" name="new-email" required>
<label for="new-pass">Password</label>
<input type="password" class="box" placeholder="Enter Password (6-16 characters, at least one letter, one number, and one special character)" id="new-pass" name="new-pass" required>
<button type="button" id="show-new-pass">Show Password</button> 
<br>
<input type="submit" id="register-btn" value="Register" disabled> 
<div class="msg"></div>
</form>

<script>
var registrationForm = document.getElementById('registration-form');
var newUsernameInput = document.getElementById('new-username');
var newEmailInput = document.getElementById('new-email');
var newPassInput = document.getElementById('new-pass');
var registerButton = document.getElementById('register-btn');
var showNewPassButton = document.getElementById('show-new-pass');
var msgElement = document.querySelector('.msg');

var validNewUsername = false;
var validNewEmail = false;
var validNewPass = false;

newUsernameInput.addEventListener('input', onNewUsernameInput);
newEmailInput.addEventListener('input', onNewEmailInput);
newPassInput.addEventListener('input', onNewPassInput);
showNewPassButton.addEventListener('click', toggleNewPass);
registrationForm.addEventListener('submit', onRegistrationSubmit);

function onNewUsernameInput(event) {
    validNewUsername = event.target.value.length > 5;
    checkNewValidity();
}

function onNewEmailInput(event) {
    validNewEmail = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(event.target.value);
    checkNewValidity();
}

function onNewPassInput(event) {
    validNewPass = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,16}$/.test(event.target.value);
    checkNewValidity();
}

function checkNewValidity() {
    registerButton.disabled = !(validNewUsername && validNewEmail && validNewPass);
}

function toggleNewPass() {
    var passType = newPassInput.getAttribute('type');
    newPassInput.setAttribute('type', passType === 'text' ? 'password' : 'text');
    showNewPassButton.textContent = passType === 'text' ? 'Hide Password' : 'Show Password';
}

function onRegistrationSubmit(e) {
    e.preventDefault();
    var newUsername = newUsernameInput.value;
    var newEmail = newEmailInput.value;
    var newPassword = newPassInput.value;

    // In a real-world scenario, you would send this data to a server for validation and registration.
    // For now, let's just set them as valid for demonstration.
    validNewUsername = true; // For demonstration
    validNewEmail = true; // For demonstration
    validNewPass = true; // For demonstration

    if (validNewUsername && validNewEmail && validNewPass) {
        msgElement.textContent = 'Registration successful';
        setTimeout(function() {
            // Redirect to login page after registration
            window.location.href = 'Index.html';
        }, 2000);
    } else {
        msgElement.textContent = 'Invalid registration details';
    }
}
</script>
</body>
</html>
